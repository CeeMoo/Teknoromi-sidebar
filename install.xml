<?xml version="1.0"?>
<!DOCTYPE modification SYSTEM "http://www.simplemachines.org/xml/modification">
<modification xmlns="http://www.simplemachines.org/xml/modification" xmlns:smf="http://www.simplemachines.org/">
	<id>Snrj:Teknoromi-sidebar</id>
	<version>1.0</version>
	<file name="$themedir/BoardIndex.template.php">
		<operation>
		<search position="replace"><![CDATA[<div id="boardindex_table">]]></search>
			<add><![CDATA[<table border="0" width="100%" cellpadding="0" cellspacing="0">
		<tbody><tr>';
		require_once($boarddir . '/SSI.php');
		if (!empty($modSettings['sideleft']))
			{
		    echo '<td valign="top">
			<button type="button" id="teknoleft" title="" onclick="leftPanel.toggle();"></button>
			</td>
			<td valign="top" id="upshrinkLeftBarTD">
				<div id="upshrinkLeftBar" style="width:',$modSettings['sideleftwidth'] ? $modSettings['sideleftwidth'] :'200px','; margin-right:4px; overflow:auto;" >
				', empty($modSettings['sideleft1']) ? '' : '<div class="cat_bar"><h3 class="catbg">'.$modSettings['lefthtmlbaslik'].'</h3></div>'.$modSettings['sideleft1'].'', '
				', empty($modSettings['sideleftphp']) ? '' : '<div class="cat_bar"><h3 class="catbg">'.$modSettings['leftphpbaslik'].'</h3></div>';eval($modSettings['sideleftphp']);
				echo'<div id="php">';eval($modSettings['sideleftphp']);echo'</div>';
				if (!empty($modSettings['sidelefthaberetkin']))
				{
				$array = ssi_boardNews($modSettings['sidelefthaber'], $modSettings['sideleftsay'], null, 1000, 'array');
					echo'<div class="cat_bar">
							<h3 class="catbg">',$modSettings['lbaslik'],'</h3>
						</div>';
					global $memberContext;	
					foreach ($array as $news)
					 {
					  loadMemberData($news['poster']['id']);
					  loadMemberContext($news['poster']['id']);
						  echo '<div class="sidehaber">
								<div class="sideBaslik">
								', $news['icon'], '
								<h3><a href="', $news['href'], '">', $news['subject'], '</a></h3>
								</div>
								<div class="snrj"> ', $memberContext[$news['poster']['id']]['avatar']['image'],' 
								<p>', $txt['by'], '', $news['poster']['link'], '</p>
								</div>
								</div><hr/>';
					 }
				} 
				echo'</div>
			</td>';
			}
			echo '<td valign="top" width="100%">
			<table id="maintable" border="0" width="100%" cellpadding="0" cellspacing="0"><tbody><tr><td valign="top">	
		<div id="boardindex_table">]]></add>
		</operation>
		<operation>
		<search position="replace"><![CDATA[// Info center collapse object.
	echo ']]></search>
			<add><![CDATA[// Info center collapse object.
	echo '</td></tr></tbody></table>';
		if (!empty($modSettings['sideright']))
			{
			echo '<td valign="top" id="upshrinkRightBarTD">
				<div id="upshrinkRightBar" style="width:',$modSettings['siderightwidth'] ? $modSettings['siderightwidth'] :'200px','; margin-right:4px; overflow:auto;">
				', empty($modSettings['sideright1']) ? '' : '<div class="cat_bar"><h3 class="catbg">'.$modSettings['righthtmlbaslik'].'</h3></div>'.$modSettings['sideright1'].'', '
				', empty($modSettings['siderightphp']) ? '' : '<div class="cat_bar"><h3 class="catbg">'.$modSettings['rightphpbaslik'].'</h3></div>';eval($modSettings['siderightphp']);
				if (!empty($modSettings['siderighthaberetkin']))
				{
				$array = ssi_boardNews($modSettings['siderighthaber'], $modSettings['siderightsay'], null, 1000, 'array');
					echo'<div class="cat_bar">
							<h3 class="catbg">',$modSettings['rbaslik'],'</h3>
						</div>';
					global $memberContext;	
					foreach ($array as $news)
					 {
					  loadMemberData($news['poster']['id']);
					  loadMemberContext($news['poster']['id']);
						  echo '<div class="sidehaber">
								<div class="sideBaslik">
								', $news['icon'], '
								<h3><a href="', $news['href'], '">', $news['subject'], '</a></h3>
								</div>
								<div class="snrj"> ', $memberContext[$news['poster']['id']]['avatar']['image'],' 
								<p>', $txt['by'], '', $news['poster']['link'], '</p>
								</div>
								</div><hr/>';
					 }
				 } 
				echo '</div>
			</td>
			<td valign="top">
			<button type="button" onclick="rightPanel.toggle();" id="teknoright"></button>
			</td>';
			}
				echo '</td>
		</tr></tbody></table>]]></add>
		</operation>
		<operation>
		<search position="replace"><![CDATA[var oInfoCenterToggle = new smc_Toggle({]]></search>
			<add><![CDATA[var teknoromi_sidebar = new Object();
		teknoromi_sidebar["left"] = "left Panel";
		teknoromi_sidebar["right"] = "right Panel";
		function setUpshrinkTitles() {if(this.opt.bToggleEnabled){ var panel = this.opt.aSwappableContainers[0].substring(8, this.opt.aSwappableContainers[0].length - 3).toLowerCase(); document.getElementById("tekno" + panel).setAttribute("title", (this.bCollapsed ? "Hide the " : "Show the ") + teknoromi_sidebar[panel]);}}	
		var leftPanel=new smc_Toggle({bToggleEnabled:true,bCurrentlyCollapsed:false,funcOnBeforeCollapse:setUpshrinkTitles,funcOnBeforeExpand:setUpshrinkTitles,aSwappableContainers:[\'upshrinkLeftBar\'],oCookieOptions:{bUseCookie:true,sCookieName:\'upshrleftPanel\',sCookieValue:\'0\'}});	
		var rightPanel=new smc_Toggle({bToggleEnabled:true,bCurrentlyCollapsed:false,funcOnBeforeCollapse:setUpshrinkTitles,funcOnBeforeExpand:setUpshrinkTitles,aSwappableContainers:[\'upshrinkRightBar\'],oCookieOptions:{bUseCookie:true,sCookieName:\'upshrrightPanel\',sCookieValue:\'0\'}});	
		var oInfoCenterToggle = new smc_Toggle({]]></add>
		</operation>
	</file>
	<file name="$sourcedir/Admin.php">
		<operation>
			<search position="before"><![CDATA[						// Note the comma!! The setting with automatically appear with the first mod to be added.]]></search>
			<add><![CDATA[
						'teknoromisidebar' => array($txt['teknoromisidebartitle']),]]></add>
		</operation>
     </file>

	<file name="$sourcedir/ManageSettings.php">
		<operation>
			<search position="before"><![CDATA[// Mod authors, once again, if you have a whole section to add do it AFTER this line, and keep a comma at the end.]]></search>
			<add><![CDATA[		
		'teknoromisidebar' => 'teknoromisidebarSettings',]]></add>
		</operation>
		<operation>
			<search position="end"></search>
			<add><![CDATA[
/* teknoromi sidebar smf.teknoromi.com yapımıdır */	
function teknoromisidebarSettings($return_config = false)
{
	global $modSettings, $webmaster_email, $txt, $scripturl, $context, $sc, $smcFunc;
	$boards = array();
	$request = $smcFunc['db_query']('order_by_board_order', '
		SELECT b.id_board, b.name AS board_name, c.name AS cat_name
		FROM {db_prefix}boards AS b
			LEFT JOIN {db_prefix}categories AS c ON (c.id_cat = b.id_cat)',
		array(
		)
	);
	while ($row = $smcFunc['db_fetch_assoc']($request))
		$boards[$row['id_board']] = $row['cat_name'] . ' - ' . $row['board_name'];
	$smcFunc['db_free_result']($request);
	$config_vars = array(
	      
			array('check', 'sideleft'),
			array('text', 'sideleftwidth'),
			array('text', 'lefthtmlbaslik'),
			array('large_text', 'sideleft1'),
			array('text', 'leftphpbaslik'),
			array('large_text', 'sideleftphp'),
			array('check', 'sidelefthaberetkin'),
			array('text', 'lbaslik'),
			array('select', 'sidelefthaber', $boards,),
			array('int', 'sideleftsay'),
			'',
			array('check', 'sideright'),
			array('text', 'siderightwidth'),
			array('text', 'righthtmlbaslik'),
			array('large_text', 'sideright1'),
			array('text', 'rightphpbaslik'),
			array('large_text', 'siderightphp'),
			array('check', 'siderighthaberetkin'),
			array('text', 'rbaslik'),
	        array('select', 'siderighthaber', $boards,),
			array('int', 'siderightsay'),
	);
	
	
if ($return_config)
		return $config_vars;

	$context['post_url'] = $scripturl . '?action=admin;area=modsettings;save;sa=teknoromisidebar';
	$context['settings_title'] = $txt['teknoromisidebartitle'];

	// Saving?
	if (isset($_GET['save']))
	{
		saveDBSettings($config_vars);
		redirectexit('action=admin;area=modsettings;sa=teknoromisidebar');
	}

	prepareDBSettingContext($config_vars);
}
	]]></add>
		</operation>

	</file>
	<file name="Themes/default/languages/ManageSettings.turkish-utf8.php" error="skip">
		<operation>
			<search position="end"></search>
			<add><![CDATA[
/* teknoromi sidebar smf.teknoromi.com yapımıdır */			
	$txt['teknoromisidebartitle']='Teknoromi Sidebar Ayarları';
	$txt['sideleft']='Sol Sidebarı Aktif Et';
	$txt['sideleft1']='Html veya Yazı Girebilirsiniz';
	$txt['sideright']='Sağ Sidebarı Aktif Et';
	$txt['sideright1']='Html veya Yazı Girebilirsiniz';
	$txt['sideleftwidth']='Sol Sidebar Genişlik ayarı(25%,200px..)';
	$txt['siderightwidth']='Sağ Sidebar Genişlik ayarı(25%,200px..)';
	$txt['sidelefthaberetkin']='Sol Sidebarda Bölüm Haberini etkinleştir';
	$txt['sidelefthaber']='Bölüm Haberi Hangi Bölümden Çekilecek';
	$txt['sideleftsay']='Bölüm Haberi Kaç Adet Gösterilecek';
	$txt['siderighthaberetkin']='Sağ Sidebarda Bölüm Haberini etkinleştir';
	$txt['siderighthaber']='Bölüm Haberi Hangi Bölümden Çekilecek';
	$txt['siderightsay']='Bölüm Haberi Kaç Adet Gösterilecek';
	$txt['siderightphp']='Php kodlar içindir';
	$txt['sideleftphp']='Php kodlar içindir';
	$txt['lbaslik']='Bölüm Haberi Başlık Girin';
	$txt['lefthtmlbaslik']='Html Alanı Başlık Girin';
	$txt['rbaslik']='Bölüm Haberi Başlık Girin';
	$txt['righthtmlbaslik']='Html Alanı Başlık Girin';
	$txt['leftphpbaslik']='php Alanı Başlık Girin';
	$txt['rightphpbaslik']='php Alanı Başlık Girin';
	]]></add>
		</operation>
	</file>
	<file name="Themes/default/languages/ManageSettings.english.php" error="skip">
		<operation>
			<search position="end"></search>
			<add><![CDATA[
/* teknoromi sidebar smf.teknoromi.com yapımıdır */			
	$txt['teknoromisidebartitle']='Teknoromi Sidebar Mod';
	$txt['sideleft']='Left Panel Active';
	$txt['sideleft1']='Html and Textarea post';
	$txt['sideright']='Right Panel Active';
	$txt['sideright1']='Html and Textarea post';
	$txt['sideleftwidth']='Left width settings(25%,200px..)';
	$txt['siderightwidth']='Right width settings(25%,200px..)';
	$txt['sidelefthaberetkin']='Left Panel Board News Active';
	$txt['sidelefthaber']='BoardNews which section';
	$txt['sideleftsay']='BoardNews How Many pcs to show';
	$txt['siderighthaberetkin']='Right Panel Board News Active';
	$txt['siderighthaber']='BoardNews which section';
	$txt['siderightsay']='BoardNews How Many pcs to show';
	$txt['siderightphp']='Php codes';
	$txt['sideleftphp']='Php codes';
	$txt['lbaslik']='BoardNews Title';
	$txt['lefthtmlbaslik']='Html Code Title';
	$txt['rbaslik']='BoardNews Title';
	$txt['righthtmlbaslik']='Html Code Title';
	$txt['leftphpbaslik']='php Code Title';
	$txt['rightphpbaslik']='php Code Title';
	]]></add>
		</operation>
	</file>
	<file name="Themes/default/languages/ManageSettings.turkish.php" error="skip">
		<operation>
			<search position="end"></search>
			<add><![CDATA[
/* teknoromi sidebar smf.teknoromi.com yapımıdır */			
	$txt['teknoromisidebartitle']='Teknoromi Sidebar Ayarları';
	$txt['sideleft']='Sol Sidebarı Aktif Et';
	$txt['sideleft1']='Html veya Yazı Girebilirsiniz';
	$txt['sideright']='Sağ Sidebarı Aktif Et';
	$txt['sideright1']='Html veya Yazı Girebilirsiniz';
	$txt['sideleftwidth']='Sol Sidebar Genişlik ayarı(25%,200px..)';
	$txt['siderightwidth']='Sağ Sidebar Genişlik ayarı(25%,200px..)';
	$txt['sidelefthaberetkin']='Sol Sidebarda Bölüm Haberini etkinleştir';
	$txt['sidelefthaber']='Bölüm Haberi Hangi Bölümden Çekilecek';
	$txt['sideleftsay']='Bölüm Haberi Kaç Adet Gösterilecek';
	$txt['siderighthaberetkin']='Sağ Sidebarda Bölüm Haberini etkinleştir';
	$txt['siderighthaber']='Bölüm Haberi Hangi Bölümden Çekilecek';
	$txt['siderightsay']='Bölüm Haberi Kaç Adet Gösterilecek';
	$txt['siderightphp']='Php kodlar içindir';
	$txt['sideleftphp']='Php kodlar içindir';
	$txt['lbaslik']='Bölüm Haberi Başlık Girin';
	$txt['lefthtmlbaslik']='Html Alanı Başlık Girin';
	$txt['rbaslik']='Bölüm Haberi Başlık Girin';
	$txt['righthtmlbaslik']='Html Alanı Başlık Girin';
	$txt['leftphpbaslik']='php Alanı Başlık Girin';
	$txt['rightphpbaslik']='php Alanı Başlık Girin';
	]]></add>
		</operation>
	</file>
   <file name="Themes/default/css/index.css">
		<operation>
			<search position="end"></search>
			<add><![CDATA[
	/* teknoromi sidebar smf.teknoromi.com yapımıdır */		
	#teknoleft,#teknoright{width: 20px;border: medium none;height: 20px;position: absolute;}
	#teknoleft{margin-left: -20px;background: url('../images/sidebar.png') no-repeat scroll 0% 0% transparent;}
	#teknoright{margin-left: 4px;background: url('../images/sidebar1.png') no-repeat scroll 0% 0% transparent;}
	#teknoleft:hover,#teknoright:hover{}
	#upshrinkLeftBar,#upshrinkRightBar{border-radius: 5px;background:linear-gradient(to bottom, #f2f9fe 0%,#d6f0fd 100%);border: 1px solid #BECAD5;float: left;width: 99%;}
	#upshrinkRightBar{box-shadow: 2px 2px 2px #C8C8C8;}
	#upshrinkLeftBar{box-shadow: -2px 2px 2px #C8C8C8;}
	.sidehaber{text-align: left;margin: 4px;font-size: 9px;}
	.sideBaslik img{float: left;}
	.sideBaslik a{color: orangered;font-size: 9px;}
	.snrj{text-align: left;color:#000;}
	.snrj .avatar{width:20px;float: left;margin-left: 5px;}
	]]></add>
		</operation>
	</file>

</modification>
